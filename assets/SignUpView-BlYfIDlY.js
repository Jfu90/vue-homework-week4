import{s as f,r as w,u as v,c as l,w as r,v as i,a as u,b as o,i as h,d as p,e as g,f as C,g as b,o as n,h as x,R as y}from"./index-98V8uIEJ.js";import{u as k,a as V}from"./axios-CIokbBi8.js";const A={class:"formControls",action:"index.html"},S=o("h2",{class:"formControls_txt"},"註冊帳號",-1),U=o("label",{class:"formControls_label",for:"email"},"Email",-1),R={key:0},B=o("label",{class:"formControls_label",for:"name"},"您的暱稱",-1),N={key:1},q=o("label",{class:"formControls_label",for:"pwd"},"密碼",-1),T={key:2},E=o("label",{class:"formControls_label",for:"pwd-again"},"再次輸入密碼",-1),L={key:3},j={__name:"SignUpView",setup(M){const m=k(),{emailStore:t}=f(m),e=w({password:"",passwordAgain:"",name:""}),c=v(),_=async()=>{const d="https://todolist-api.hexschool.io";if(e.value.password===e.value.passwordAgain)try{const s=await V.post(`${d}/users/sign_up`,{email:t.value,password:e.value.password,nickname:e.value.name});alert("註冊完成，請登入"),console.log(s),c.push("/login")}catch(s){const{response:a}=s;alert(a.data.message)}};return(d,s)=>(n(),l("form",A,[S,U,r(o("input",{class:"formControls_input",type:"text",id:"email",name:"email",placeholder:"請輸入 email",required:"","onUpdate:modelValue":s[0]||(s[0]=a=>h(t)?t.value=a:null)},null,512),[[i,u(t)]]),u(t)?p("",!0):(n(),l("span",R,"此欄位不可留空")),B,r(o("input",{class:"formControls_input",type:"text",name:"name",id:"name",placeholder:"請輸入您的暱稱","onUpdate:modelValue":s[1]||(s[1]=a=>e.value.name=a)},null,512),[[i,e.value.name]]),e.value.name?p("",!0):(n(),l("span",N,"此欄位不可留空")),q,r(o("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"請輸入密碼",required:"","onUpdate:modelValue":s[2]||(s[2]=a=>e.value.password=a)},null,512),[[i,e.value.password]]),e.value.password?p("",!0):(n(),l("span",T,"此欄位不可留空")),E,r(o("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd-again",placeholder:"請再次輸入密碼",required:"","onUpdate:modelValue":s[3]||(s[3]=a=>e.value.passwordAgain=a)},null,512),[[i,e.value.passwordAgain]]),e.value.password.length&&e.value.passwordAgain!==e.value.password?(n(),l("span",L,"密碼不符")):p("",!0),o("input",{class:"formControls_btnSubmit",type:"button",value:"註冊帳號",onClick:g(_,["prevent"])}),C(u(y),{class:"formControls_btnLink",to:"/login"},{default:b(()=>[x("登入")]),_:1})]))}};export{j as default};
